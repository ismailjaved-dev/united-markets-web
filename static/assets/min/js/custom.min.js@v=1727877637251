Vue.options.delimiters=["[[","]]"];const langsMap={en:"en",pl:"pl",no:"no",sv:"sv",de:"de",it:"it",es:"es",fil:"fil",fr:"fr",ms:"ms",no:"no",nb:"no",pt:"pt",ro:"ro",ru:"ru",th:"th",vi:"vi",zh:"zh-Hant",cn:"zh-Hans"},noCryptoCountries=["gb","cn"],prodHosts=["skilling.com","sk-intl.tech"],isProd=prodHosts.some(e=>e===location.host),assetTypes={crypto:"cryptocurrencies",forex:"forex",shares:"shares",indices:"indices",commodities:"commodities"},supportPictureTag=!!window.HTMLPictureElement;function WebpIsSupported(e){if(!window.createImageBitmap)return void e(!1);fetch("data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEAAQAcJaQAA3AA/v3AgAA=").then(function(e){return e.blob()}).then(function(t){createImageBitmap(t).then(function(){e(!0)},function(){e(!1)})})}document.body.classList.add(supportPictureTag?"support-picture":"no-support-picture"),WebpIsSupported(function(e){e?document.body.classList.add("support-webp"):document.body.classList.add("no-support-webp")});let elms=document.getElementsByClassName("splide");for(let e=0;e<elms.length;e++)new Splide(elms[e]).mount();let tabs=function(e){let t=document.querySelector(e.el),s=t.querySelectorAll(e.tabNavigationLinks),n=t.querySelectorAll(e.tabContentContainers),a=0,r=!1,i=function(e,t){e.addEventListener("click",function(e){e.preventDefault(),o(t)})},o=function(e){if(e!==a&&e>=0&&e<=s.length&&(s[a].classList.remove("active"),s[e].classList.add("active"),n[a].classList.remove("active"),n[e].classList.add("active"),a=e,document.querySelectorAll(".tab-nav").length>0)){let e=document.querySelectorAll(".tab-nav");for(let t=0;t<e.length;t++)e[t].classList.remove("show-markets")}};return{init:function(){if(!r){r=!0,t.classList.remove("no-js");for(let e=0;e<s.length;e++){let t=s[e];i(t,e)}}},goToTab:o}};if(window.tabs=tabs,document.querySelectorAll(".tab-contents").length>0){tabs({el:".tab-contents",tabNavigationLinks:".tab-link",tabContentContainers:".tab-content"}).init()}if(document.querySelectorAll(".about-tab-contents").length>0){tabs({el:".about-tab-contents",tabNavigationLinks:".tab-link",tabContentContainers:".tab-content"}).init()}if(document.querySelectorAll(".filters-tab-contents").length>0){tabs({el:".filters-tab-contents",tabNavigationLinks:".tab-link",tabContentContainers:".tab-content"}).init()}if(document.querySelectorAll(".markets-tab-contents").length>0){tabs({el:".markets-tab-contents",tabNavigationLinks:".tab-link",tabContentContainers:".tab-content"}).init()}function showMarkets(e){return e.parentElement.previousElementSibling.classList.toggle("show-markets"),!1}function showMarketsSearch(){document.querySelector(".markets-search-form").classList.toggle("show-markets-search")}function activateTab(e,t){return!![e,document.querySelector("#"+t)].filter(e=>!!e).forEach(e=>{Array.prototype.slice.call(e.parentNode.childNodes).filter(e=>1===e.nodeType).forEach(e=>e.classList.remove("active")),e.classList.add("active")})}function get(e,t,s){return(Array.isArray(t)?t:t.split(".").filter(e=>e)).flatMap(e=>"string"==typeof e?e.split("."):e).reduce((e,t)=>e&&e[t],e)||s}function getParamsArray(){return location.pathname.replace(/^\/*|\/*$/g,"").split("/")}function getBrowserLanguage(){const e=navigator.language.split("-")[0];return langsMap[e]}function go(e,t=!0){const s=e===modals.signup?"?fromSite=true":"";let[n,a]=getParamsArray(),r=-1!==location.href.indexOf("?")?`?${location.href.split("?").pop()}`:"",i=location.origin+"/";a=langsMap[a]||getBrowserLanguage(),i+={[modals.login]:a+"/fx/login",[modals.signin]:a+"/fx/login",[modals.signup]:a+"/fx/signup/manual/email-and-password"+s,lead:a+"/fx/signup/country-license",watchlist:a+"/fx/watchlist",trading:a+"/fx/trading",forgot:a+"/fx/login/forgot-password"}[e];return t&&(window.location.href=window.location.pathname.includes("all-instruments/instrument-details")?i:i+r),window.location.pathname.includes("all-instruments/instrument-details")?i:i+r}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("a[href*=\"javascript:go('signup')\"], a[href*=\"javascript:go('login')\"]").forEach(e=>{e.addEventListener("contextmenu",function(t){if(2===t.button){t.preventDefault();const s=e.getAttribute("href").match(/go\('([^']+)'\)/)[1];window.open(go(s,!1))}})})});const assetClassMap={Featured:"featured",featured:"Featured",Forex:"forex",Commodities:"commodities",Indices:"indices","Equities CFD":"shares",Crypto:"cryptocurrencies",forex:"Forex",shares:"Equities CFD",indices:"Indices",commodities:"Commodities",cryptocurrencies:"Crypto"},instrumentFields="id name ticker minVolume swapLong swapShort stepVolume type stats {minSpread avgSpread}";let priceFetchCanceller=null,instrumentSearchCanceller=null;const instrumentsService={discoveryEndpoint:"/g/discovery/static/instruments/EU_RTL_STD",headers:{"Content-Type":"application/json"},searchCanceller:null,filtersMapper:{"Top Gainers":"&pc=true","Top Fallers":"&pc=false","Top Volatile":"&pv=true",Featured:"&t=featured",Technology:"&t=tech",Energy:"&t=energy",Financials:"&t=financials",Transportation:"&t=transportation",ETFs:"&t=etfs",Gaming:"&t=gaming",Pharmaceuticals:"&t=pharmaceuticals",none:""},marketsMapper:{shares:"&a=Equities%20CFD",forex:"&a=Forex",indicies:"&a=Indicies",commodities:"&a=Commodities",cryptocurrencies:"&a=Crypto",none:""},getAssetClass(e){if(e in assetClassMap)return assetClassMap[e];if(Object.values(assetClassMap).includes(e))return e;throw new Error(`Unknown asset '${e}'`)},search(e,t=null,s=["name","ticker","asset_class"]){if(!e||!e.length||e.length<2)return Promise.resolve([]);const n=s.map(e=>"fi="+encodeURIComponent(e)).join("&");return params={q:e.toLowerCase()},t&&(params.a=this.getAssetClass(t)),this.searchCanceller&&(this.searchCanceller(),this.searchCanceller=null),axios({url:this.discoveryEndpoint+"?"+n,method:"get",data:null,headers:this.headers,params:params,cancelToken:new axios.CancelToken(e=>this.searchCanceller=e)}).catch(()=>null).then(e=>get(e,"data.hits.hits",[]).map(e=>({...get(e,"_source.instrument"),id:parseInt(e._id)})))},getTickers(e,t){const s="fi=ticker"+this.marketsMapper[e]+this.filtersMapper[t];return this.marketsMapper[e]&&this.filtersMapper[t]?axios({url:this.discoveryEndpoint+"?"+s,method:"get",data:null,headers:this.headers}).then(e=>get(e,"data.hits.hits",[]).map(e=>({...get(e,"_source.instrument")})).map(e=>e.ticker)):Promise.reject()}},marketPricesService={getInstrumentsInfo:(e,t)=>{e=formatTickersList(e);const s=`/g/public/graphql?${encodeURI(`query={instruments(accountType: ${t} instruments: [${e}]){${instrumentFields}}}`)}`;return axios.get(s).then(e=>e.data.data.instruments)},getInstrumentsInfoFromObject:(e,t)=>{const s=formatTickersListFromObject(e),n=`/g/public/graphql?${encodeURI(`query={instruments(accountType: ${t} instruments: [${s}]){${instrumentFields}}}`)}`;return axios.get(n).then(e=>e.data.data.instruments)},getInstrumentsPrices:(e,t="pro")=>{const s=getInstrumentsList(e),n=t.toLowerCase();t="pro"===n||"standard"===n?',priceStreamType: "'+n+'"':"";let a=`/g/public/graphql?${encodeURI(`query={prices(instrumentIds:[${s}]${t}){instrumentId,ask,bid,change,changePercent,low,high,price,spreadText}}`)}`;return axios.get(a).catch(()=>null).then(e=>get(e,"data.data.prices",[]))}},formatTickersList=e=>e.map(e=>`"${e}"`).join(",").replace(/&/g,"%26"),formatTickersListFromObject=e=>e.map(e=>e.ticker).map(e=>`"${e}"`).join(",").replace(/&/g,"%26"),getInstrumentsList=e=>Array.isArray(e)?e.join(","):e,headerSearchWidget=new Vue({el:".menu-search-widget",data:{debounceTimeout:null,searchTerm:"",minSearchLength:3,searchingContent:!1,searchingInstruments:!1,instruments:[],content:{blogArticles:[],webPages:[]},license:"",language:"",instrumentCache:{}},methods:{searchInstrumentsAndContent(){if(!this.searchTerm.replace(/[\W\s\n\r\t]/g,"").length)return;if(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.searchingContent=!1,this.searchingInstruments=!1,this.instruments=[],this.content={blogArticles:[],webPages:[]},this.searchTerm.length<this.minSearchLength)return;const[e,t]=getParamsArray();this.license=e,this.language=t,this.searchingContent=!0,this.searchingInstruments=!0,this.debounceTimeout=setTimeout(()=>{this.searchContent(this.searchTerm),this.searchInstruments(this.searchTerm)},2e3)},async searchContent(e){try{const t=await fetch(`/search/?string=${e}&language=${this.language}&license=${this.license}&country=${country}`);this.content=await t.json()}catch(e){this.content={blogArticles:[],webPages:[]}}finally{this.searchingContent=!1}},async searchInstruments(e){try{let t=await instrumentsService.search(e);t=[...new Map(t.map(e=>[e.ticker,e])).values()],noCryptoCountries.includes(country)&&(t=t.filter(({asset_class:e})=>e!==assetClassMap.cryptocurrencies)),t=t.sort((e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:t.name.toLowerCase()>e.name.toLowerCase()?1:0),this.instrumentCache[e]=t,this.instruments=t}catch(e){this.instruments=[]}finally{this.searchingInstruments=!1}},clearSearch(){this.searchTerm="",this.searchingContent=!1,this.searchingInstruments=!1,this.instruments=[],this.content={blogArticles:[],webPages:[]}}}});function showTabsDropdown(e){return Array.prototype.slice.call(document.querySelectorAll(".tab-bar-that-works")).filter(t=>t.contains(e.target)).shift().classList.add("dropdown-open"),!1}function hideTabsDropdown(e){return Array.prototype.slice.call(document.querySelectorAll(".tab-bar-that-works")).filter(t=>t.contains(e.target)).shift().classList.remove("dropdown-open"),!1}const assetsBaseUrl=(e=>{let t={"http://local.skilling.com":"","https://devtest.skilling.com":"https://static-dev.skilling.com/static"}[document.location.host];return t||""==t||(t=`${location.protocol}//static.${rootDomain}/static`),t})();function renderTickerIcon(e,{src:t,market:s,toParse:n}){const a=`${assetsBaseUrl}/assets/images/ticker-icon-fallbacks.svg#${s}`;try{if(n)fetch(t).then(e=>e.text()).then(t=>{e.setAttribute("src",`data:image/svg+xml;charset=utf-8,${t.replaceAll("#","%23")}`),e.classList.remove("hidden");const s=(new DOMParser).parseFromString(t,"text/html").querySelector("svg").getAttribute("data-backgroundcolor");e.parentElement.style.backgroundColor=s||"#F0F0F0"});else{const s=new Image;e.removeAttribute("src"),s.src=t,s.onload=(()=>{e.src=t,e.classList.remove("hidden")}),s.onerror=(()=>{e.src=a,e.classList.add("rounded"),e.classList.remove("hidden")})}}catch(t){e.src=a,e.classList.add("rounded"),e.classList.remove("hidden")}}function loadScript(e,t){const s=document.createElement("script"),n=assetsBaseUrl||window.origin;s.setAttribute("src",n+e),t&&s.setAttribute("id",t),document.head.appendChild(s)}Vue.directive("ticker-icon",{bind(e,{value:t}){renderTickerIcon(e,t)},update(e,{value:t,oldValue:s}){t.src===s.src&&t.market===s.market||renderTickerIcon(e,t)}});const modalId="auth-modal",modals={login:"login",signin:"signin",signup:"signup",banner:"signup-banner",banner2:"signup-banner2"};function openModal(e,t=!0,s="medium"){const n=document.getElementById(`modal__${e}`),a=e===modals.login,r=document.getElementById(`modal__${a?modals.signup:modals.login}`);if(document.getElementById(modalId)||this.submitForm||(loadScript("/assets/min/js/modal/modal.min.js",modalId),loadScript("/assets/min/js/modal/decode.min.js")),!a&&t&&trackClick(),r&&(r.style.display="none"),n){const e=document.getElementById("page-home");t?n.classList.add(s):n.classList.remove(s),n.style.display=t?"block":"none",e.style.overflow=t?"hidden":"unset",this.formatErrors&&formatErrors()}}function trackClick(){dataLayer.push({event:"Signup clicked",Type:"Signup_clicked"})}